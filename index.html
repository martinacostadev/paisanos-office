<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>PAISANOS - Agentes Paisanos Office</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- Join Form Overlay -->
    <div id="join-form-overlay" class="form-hidden">
      <div id="join-form-card">
        <h2>JOIN THE OFFICE</h2>
        <p class="join-subtitle">Enter your info to join as a worker</p>
        <label for="join-name">Name</label>
        <input type="text" id="join-name" placeholder="Your name" maxlength="24" />
        <label for="join-position">Job Position</label>
        <input type="text" id="join-position" placeholder="e.g. Full Stack Dev" maxlength="30" />
        <label for="join-years">Years at Paisanos</label>
        <input type="number" id="join-years" placeholder="e.g. 3" min="0" max="50" />
        <label>Shirt Style</label>
        <div id="shirt-picker">
          <div class="shirt-option selected" data-shirt="blue-lines" data-title="Boquita" style="background:#4488cc;"><span style="color:#f5a623;font-size:9px;font-weight:bold;">‚îÅ</span></div>
          <div class="shirt-option" data-shirt="white-v" data-title="Velez" style="background:#fff;"><span style="color:#4488cc;font-size:13px;font-weight:bold;">V</span></div>
          <div class="shirt-option" data-shirt="pink" data-title="Pink" style="background:#ff69b4;"></div>
          <div class="shirt-option" data-shirt="black-logo" data-title="Dark" style="background:#1a1a1a;"><span style="color:#fff;font-size:9px;">‚ú¶</span></div>
        </div>
        <div id="shirt-label" style="text-align:center;font-family:Arial,sans-serif;font-size:12px;color:#f5a623;min-height:16px;">Boquita</div>
        <button id="join-btn">JOIN</button>
      </div>
    </div>

    <div id="app">
      <header id="header">
        <h1>PAISANOS</h1>
        <p>Real-time multiplayer pixel office ‚Äî move with arrow keys ‚Äî Press Enter to Chat</p>
      </header>
      <div id="game-wrapper">
        <div id="game-container"></div>
      </div>
    </div>
    <!-- Camera panel (top-left) -->
    <div id="cam-panel" class="cam-hidden">
      <div id="cam-local-box" class="cam-box">
        <video id="cam-local" autoplay muted playsinline></video>
        <span id="cam-local-label">You</span>
      </div>
      <div id="cam-remote-container"></div>
    </div>

    <!-- Open cam / mic buttons -->
    <button id="cam-toggle-btn" class="cam-btn-hidden">Open cam</button>
    <button id="mic-toggle-btn" class="mic-btn-hidden">Open mic</button>

    <!-- Chat panel (bottom-right) -->
    <div id="chat-panel" class="chat-hidden">
      <div id="chat-header">
        <span id="chat-header-icon">üí¨</span>
        <span id="chat-header-title">OFFICE CHAT</span>
        <button id="chat-toggle-btn">&#9650;</button>
      </div>
      <div id="chat-body">
        <div id="chat-messages">
          <div id="chat-welcome" class="chat-system-msg">Welcome to the office! Say hi to your team.</div>
        </div>
        <div id="chat-input-row">
          <textarea id="chat-input" placeholder="Say something..." maxlength="200" rows="1"></textarea>
          <button id="chat-send-btn">‚ñ∂</button>
        </div>
      </div>
    </div>

    <!-- D-Pad Controls (mobile) -->
    <div id="dpad-controls">
      <button id="dpad-up" class="dpad-btn">&#9650;</button>
      <div class="dpad-mid-row">
        <button id="dpad-left" class="dpad-btn">&#9664;</button>
        <div class="dpad-center"></div>
        <button id="dpad-right" class="dpad-btn">&#9654;</button>
      </div>
      <button id="dpad-down" class="dpad-btn">&#9660;</button>
    </div>

    <div id="modal-overlay" class="modal-hidden">
      <div id="modal-card">
        <button id="modal-close">&times;</button>
        <canvas id="modal-avatar" width="64" height="64"></canvas>
        <div id="modal-name"></div>
        <div id="modal-position"></div>
        <div id="modal-years"></div>
        <div id="modal-hint">Use arrow keys to move</div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
